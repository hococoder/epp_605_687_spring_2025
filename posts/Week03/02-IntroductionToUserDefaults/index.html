<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Mobile Application Development for the iOS Platform"/><link rel="canonical" href="https://hococoder.com/posts/Week03/02-IntroductionToUserDefaults"/><meta name="twitter:url" content="https://hococoder.com/posts/Week03/02-IntroductionToUserDefaults"/><meta name="og:url" content="https://hococoder.com/posts/Week03/02-IntroductionToUserDefaults"/><title>Week 3 - Introduction to User Defaults | Mobile Application Development for the iOS Platform</title><meta name="twitter:title" content="Week 3 - Introduction to User Defaults | Mobile Application Development for the iOS Platform"/><meta name="og:title" content="Week 3 - Introduction to User Defaults | Mobile Application Development for the iOS Platform"/><meta name="description" content="A description of my first post."/><meta name="twitter:description" content="A description of my first post."/><meta name="og:description" content="A description of my first post."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="../../../styles.css" type="text/css"/><script src="../../../../jquery-3.7.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Mobile Application Development for the iOS Platform"/></head><body><div class="layout"><div class="header"><div class="headerLayout"><div class="title">Mobile Application Development for the iOS Platform</div><div class="subtitle">Engineering Program for Professionals - 605.687 - 2024-2025 Academic Year</div><div class="weeklayout"><a class="grow1" href="/epp_605_687_spring_2025/posts/Intro/About Me">About Me</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Intro/Example App">Example App</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week00/00-Week00Overview">Week 0</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week01/00-Week01Overview">Week 1</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week02/00-Week02Overview">Week 2</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week03/00-Week03Overview">Week 3</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week04/00-Week04Overview">Week 4</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week05/00-Week05Overview">Week 5</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week06/00-Week06Overview">Week 6</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week07/00-Week07Overview">Week 7</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week08/00-Week08Overview">Week 8</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week09/00-Week09Overview">Week 9</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week10/00-Week10Overview">Week 10</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week11/00-Week11Overview">Week 11</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week12/00-Week12Overview">Week 12</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week13/00-Week13Overview">Week 13</a></div></div></div><div class="wrapper"><h1>Week 3 - Introduction to User Defaults</h1><p style="float: left">Previous:  <A HREF="../../Week03/01-YourAppsDirectoryStructure/index.html">Your Apps Directory Structure</A></p><p style="float: right">Next:  <A HREF="../../Week03/03-IntroductionToTheCodableProtocol/index.html">Introduction to the Codable Protocol</A></p><BR/><BR/><a name="overview"></a>
<h2>Overview</h2><center><iframe id="myIframe" src="https://jh.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=3254da31-44eb-49de-8c3e-b1b9001308c9&autoplay=false&offerviewer=true&showtitle=true&showbrand=true&captions=false&interactivity=all"  style="border: 1px solid #464646;" allowfullscreen allow="autoplay" aria-label="Panopto Embedded Video Player" aria-description="Week0-04-THIRDPARTYTOOLS-Lecture" ></iframe></center><div id="floater">
<h3><u>Page Contents</u></h3>
<ul><li><a href="#overview">Overview</a></li><li><a href="#appStorage">App Storage</a></li></ul></div><p>For small amounts of data that consists of basic types, such as <code>Int</code>s and <code>Double</code>s, arrays, dictionaries, <code>Date</code>s or even small data objects, you can store them in the <code>UserDefaults</code> dictionary. To get access to <code>UserDefaults</code> in your app, you can reference the standard property on the <code>UserDefaults</code> class.</p><pre><code><span class="keyword">let</span> defaults = <span class="type">UserDefaults</span>.<span class="property">standard</span>
</code></pre><p>Then, you set values using the “set” series of methods on <code>UserDefaults</code>, and get values using the <code>(forKey:)</code> methods.</p><pre><code>defaults.<span class="call">set</span>(<span class="number">45</span>, forKey: <span class="string">"age"</span>)
<span class="keyword">let</span> height = defaults.<span class="call">integer</span>(forKey: <span class="string">"height"</span>)
</code></pre><p>If I wanted to store whether a user has completed onboarding in my app - which is a boolean, I can use:</p><pre><code>defaults.<span class="call">set</span>(<span class="keyword">true</span>, forKey: <span class="string">"hasOnboarded"</span>)
</code></pre><p>Here, the first argument is the value I’m storing, and the value assigned to <code>forKey</code> is a unique key in the dictionary. To get that value back, I’ll use:</p><pre><code><span class="keyword">let</span> hasUserOnboarded = defaults.<span class="call">bool</span>(forKey:<span class="string">"hasOnboarded"</span>)
</code></pre><p>Each of the getter methods has a default return value if a value for the key doesn’t currently exist in the <code>UserDefaults</code> dictionary.</p><p>To set an array of strings, you can do:</p><pre><code><span class="keyword">let</span> groceries = [<span class="string">"Milk"</span>, <span class="string">"Eggs"</span>, <span class="string">"Bread"</span>]
defaults.<span class="call">set</span>(groceries, forKey: <span class="string">"SnowGroceryList"</span>)
<span class="keyword">let</span> fetchedGroceries = defaults.<span class="call">object</span>(forKey: <span class="string">"SnowGroceryList"</span>) <span class="keyword">as</span>! [<span class="type">String</span>]
</code></pre><p>Note that here you have to use <code>object(forKey:)</code> to get the array back. This requires a little more work on your end because that method returns an "Any?" object (to see that Option-Click on <code>fetchedGroceries</code> in the playground, so you’ll have to cast it to the type you want, here, that is done with <code>as! [String]</code>.</p><a name="appStorage"></a>
<h2>App Storage</h2><p>A new property wrapper was added in iOS 14 - <code>@AppStorage</code>. This property wrapper automatically handles fetching data from and storing data to UserDefaults. Better yet, like <code>@State</code> and other property wrappers, SwiftUI responds to changes in that value by redrawing the body property. So, anywhere else in your code that the value in <code>UserDefaults</code> changes will provoke a potential UI update. It's a great addition to the property wrappers in iOS 14. An example looks like this:</p><pre><code><span class="keyword">@AppStorage</span>(<span class="string">"showAds"</span>) <span class="keyword">var</span> showAds: <span class="type">Bool</span> = <span class="keyword">true</span>
</code></pre><p>This automatically handles the storage of the value set to <code>showAds</code> to the standard <code>UserDefaults</code>, using the key "showAds", and gets rid of a lot of the boilerplate code you saw above. Note that it doesn't handle <em>all</em> the cases that regular <code>UserDefaults</code> does, so you'll have to be careful when using it.<br><br>Before we get into Core Data, let's discuss the <code>Codable</code> protocol, which we'll do next.<br><br></p><p style="float: left">Previous:  <A HREF="../../Week03/01-YourAppsDirectoryStructure/index.html">Your Apps Directory Structure</A></p><p style="float: right">Next:  <A HREF="../../Week03/03-IntroductionToTheCodableProtocol/index.html">Introduction to the Codable Protocol</A></p><BR/><BR/></div><leftside><u><p>Week 3</p></u><div class="weekSection"><ul><li><div class="comment-container"><div class="tocItem"><a id="Week 3 Overview" href="../../Week03/00-Week3Overview/index.html">Week 3 Overview</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Your Apps Directory Structure" href="../../Week03/01-YourAppsDirectoryStructure/index.html">Your Apps Directory Structure</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Introduction to User Defaults" href="../../Week03/02-IntroductionToUserDefaults/index.html">Introduction to User Defaults</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Introduction to the Codable Protocol" href="../../Week03/03-IntroductionToTheCodableProtocol/index.html">Introduction to the Codable Protocol</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Introduction to SwiftData" href="../../Week03/04-IntroductionToSwiftData/index.html">Introduction to SwiftData</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Introduction to CoreData" href="../../Week03/05-IntroductionToCoreData/index.html">Introduction to CoreData</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Setting up a Schema" href="../../Week03/06-SettingUpASchema/index.html">Setting up a Schema</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="NSManagedObjects" href="../../Week03/07-NSManagedObjects/index.html">NSManagedObjects</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Storing and Fetching" href="../../Week03/08-StoringAndFetching/index.html">Storing and Fetching</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Populating the Database" href="../../Week03/09-PopulatingTheDatabase/index.html">Populating the Database</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="SwiftUI Improvements" href="../../Week03/10-SwiftUIImprovements/index.html">SwiftUI Improvements</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Converting to SwiftData" href="../../Week03/11-ConvertingToSwiftData/index.html">Converting to SwiftData</a></div></div></li></ul></div></leftside><footer><p>Generated with ❤️ using <a href="https://github.com/johnsundell/publish">Publish</a></p><p>© 2023-2024 Josh Steele (rsteele3@jhu.edu) <a href="mailto:"(rsteele3@jhu.edu)""></a></p><p>Last updated February 1, 2025 at 3:31 PM</p><p><a href="https://mastodon.social/@hococoder" target="_blank">My Mastodon</a> | <a href="https://github.com/hococoder" target="_blank">My GitHub</a> | <a href="https://ep.jhu.edu" target="_blank">Whiting School EPP</a> | <a href="https://canvas.jhu.edu" target="_blank">JHU Canvas</a></p></footer></div></body></html>
<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Mobile Application Development for the iOS Platform"/><link rel="canonical" href="https://hococoder.com/posts/Week01/11-KeyPaths"/><meta name="twitter:url" content="https://hococoder.com/posts/Week01/11-KeyPaths"/><meta name="og:url" content="https://hococoder.com/posts/Week01/11-KeyPaths"/><title>Week 1 - Keypaths | Mobile Application Development for the iOS Platform</title><meta name="twitter:title" content="Week 1 - Keypaths | Mobile Application Development for the iOS Platform"/><meta name="og:title" content="Week 1 - Keypaths | Mobile Application Development for the iOS Platform"/><meta name="description" content="A description of my first post."/><meta name="twitter:description" content="A description of my first post."/><meta name="og:description" content="A description of my first post."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="../../../styles.css" type="text/css"/><script src="../../../../jquery-3.7.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Mobile Application Development for the iOS Platform"/></head><body><div class="layout"><div class="header"><div class="headerLayout"><div class="title">Mobile Application Development for the iOS Platform</div><div class="subtitle">Engineering Program for Professionals - 605.687 - 2024-2025 Academic Year</div><div class="weeklayout"><a class="grow1" href="/epp_605_687_spring_2025/posts/Intro/About Me">About Me</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Intro/Example App">Example App</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week00/00-Week00Overview">Week 0</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week01/00-Week01Overview">Week 1</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week02/00-Week02Overview">Week 2</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week03/00-Week03Overview">Week 3</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week04/00-Week04Overview">Week 4</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week05/00-Week05Overview">Week 5</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week06/00-Week06Overview">Week 6</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week07/00-Week07Overview">Week 7</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week08/00-Week08Overview">Week 8</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week09/00-Week09Overview">Week 9</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week10/00-Week10Overview">Week 10</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week11/00-Week11Overview">Week 11</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week12/00-Week12Overview">Week 12</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week13/00-Week13Overview">Week 13</a></div></div></div><div class="wrapper"><h1>Week 1 - Keypaths</h1><p style="float: left">Previous:  <A HREF="../../Week01/10-TheGuardStatement/index.html">The Guard Statement</A></p><p style="float: right">Next:  <A HREF="../../Week01/12-FunctionalProgramming/index.html">Functional Programming</A></p><BR/><BR/><a name="overview"></a>
<h2>Overview</h2><div id="floater">
<h3><u>Page Contents</u></h3>
<ul><li><a href="#overview">Overview</a></li><li><a href="#readingAndWritingValuesWithKeypaths">Reading and Writing Values with Keypaths</a></li><li><a href="#ok">OK</a></li><li><a href="#soWhat"> so what?</a></li></ul></div><center><iframe src="https://jh.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=8c2e3479-1cbc-4c74-aea4-b1ac01348741&autoplay=false&offerviewer=true&showtitle=true&showbrand=true&captions=false&interactivity=all" height="720" width="1280" style="border: 1px solid #464646;" allowfullscreen allow="autoplay" aria-label="Panopto Embedded Video Player" aria-description="Week0-04-THIRDPARTYTOOLS-Lecture" ></iframe></center><p>Sometimes when working with Properties, you might want to refer to (hold a reference to) the property <em>itself</em> rather than the underlying value stored in the property. Those references can be passed around like any other entity in our code, used in expressions, or allow code to get or set a property without knowing which one it is dealing with. Let's look at the <code>Person</code> struct we've used previously:</p><pre><code><span class="keyword">struct</span> Person {
  <span class="keyword">var</span> name: <span class="type">String</span>
  <span class="keyword">let</span> dob: <span class="type">Date</span>
}
</code></pre><p>To reference the <code>name</code> keypath in the Struct, you refer to it like this:</p><pre><code><span class="keyword">let</span> nameKeyPath = \<span class="type">Person</span>.<span class="property">name</span>
</code></pre><p>Note the "<code>\</code>" here - this avoids conflicts with referring to static properties for a type.<br><br>If nested types are present - where a type depends on another type - KeyPaths can also be chained together.</p><pre><code><span class="keyword">struct</span> PhysicalCharacteristics {
  <span class="keyword">var</span> weight: <span class="type">Double</span>
  <span class="keyword">var</span> height: <span class="type">Double</span>
}

<span class="keyword">struct</span> Person2 {
  <span class="keyword">var</span> name: <span class="type">String</span>
  <span class="keyword">let</span> dob: <span class="type">Date</span>
  <span class="keyword">var</span> characteristics: <span class="type">PhysicalCharacteristics</span>
}

<span class="keyword">let</span> heightKeyPath = \<span class="type">Person2</span>.<span class="property">characteristics</span>.<span class="property">height</span>
</code></pre><p>These can also be appended together to get the same result:</p><pre><code><span class="keyword">let</span> characteristicsKeyPath = \<span class="type">Person2</span>.<span class="property">characteristics</span>
<span class="keyword">let</span> heightKeyPath2 = characteristicsKeyPath.<span class="call">appending</span>(path: \<span class="type">PhysicalCharacteristics</span>.<span class="property">height</span>)
</code></pre><a name="readingAndWritingValuesWithKeypaths"></a>
<h2>Reading and Writing Values with KeyPaths</h2><p>OK, so you know how to compose a KeyPath - now what can you do with them? One thing is that you can use them to read and write values. Let's make a person and read their name using a KeyPath:</p><pre><code><span class="keyword">let</span> characteristics = <span class="type">PhysicalCharacteristics</span>(weight: <span class="number">160</span>, height: <span class="number">70</span>)
<span class="keyword">var</span> josh = <span class="type">Person2</span>(name: <span class="string">"Josh"</span>, dob: <span class="type">Date</span>(), characteristics: characteristics)  <span class="comment">//using a dummy date here - Date() is the date "now"</span>
<span class="keyword">let</span> name = josh[keyPath: \<span class="type">Person2</span>.<span class="property">name</span>]
</code></pre><p>As you can see the name is obtained not by our usual <code>josh.name</code> syntax, but instead uses the keyPath to reference into the set of available KeyPaths in the <code>josh</code> instance.<br><br>Let's take a look at the types of our KeyPaths, since that isn't something we've discussed yet:</p><pre><code><span class="call">print</span>(<span class="call">type</span>(of: \<span class="type">Person2</span>.<span class="property">name</span>))
<span class="call">print</span>(<span class="call">type</span>(of: \<span class="type">Person2</span>.<span class="property">dob</span>))
</code></pre><p>If you put those in the playground and run it, it turns out that <code>\Person2.name</code> is of type <code>WriteableKeyPath&lt;Person2, String&gt;</code> and <code>\Person2.dob</code> is of type <code>KeyPath&lt;Person2, Date&gt;</code>. These make sense - <code>name</code> is a variable and is of type <code>String</code> (and belongs to the <code>Person2</code> type) and the <code>dob</code> is of type <code>Date</code> and is a constant - therefore it is only of type <code>KeyPath</code>.</p><p>Since <code>\Person2.name</code> is writeable, we can change it via KeyPaths</p><pre><code>josh[keyPath: \<span class="type">Person2</span>.<span class="property">name</span>] = <span class="string">"Joshua"</span>
</code></pre><a name="okSoWhat"></a>
<h2>OK, so what?</h2><p>The above examples for reading and writing still don't show anything special - you can get that same functionality by referencing the instance properties directly. John Sundell has a great example <a href="https://www.swiftbysundell.com/articles/the-power-of-key-paths-in-swift/">here</a> to illustrate how referencing properties by KeyPaths can be very powerful. Let's use that as an example.</p><p>If you have used iOS <em>at all</em> over the years, you have probably seen data presented in a table format, where there can be an Image, a Title to the table cell, and a Subtitle if you want. John came up with a great struct to help with configuring the cell, keeping it generic:</p><pre><code><span class="keyword">struct</span> CellConfigurator&lt;Model&gt; {
    <span class="keyword">let</span> titleKeyPath: <span class="type">KeyPath</span>&lt;<span class="type">Model</span>, <span class="type">String</span>&gt;
    <span class="keyword">let</span> subtitleKeyPath: <span class="type">KeyPath</span>&lt;<span class="type">Model</span>, <span class="type">String</span>&gt;
    <span class="keyword">let</span> imageKeyPath: <span class="type">KeyPath</span>&lt;<span class="type">Model</span>, <span class="type">UIImage</span>?&gt;

    <span class="keyword">func</span> configure(<span class="keyword">_</span> cell: <span class="type">UITableViewCell</span>, for model: <span class="type">Model</span>) {
        cell.<span class="property">textLabel</span>?.<span class="property">text</span> = model[keyPath: titleKeyPath]
        cell.<span class="property">detailTextLabel</span>?.<span class="property">text</span> = model[keyPath: subtitleKeyPath]
        cell.<span class="property">imageView</span>?.<span class="property">image</span> = model[keyPath: imageKeyPath]
    }
}
</code></pre><p>Here, since we're keeping the type generic, we don't know exactly what the type specified by <code>Model</code> will entail. We do know however, that we want a property to specify the title, another to specify the subtitle, and a final property to specify the Image used. This sounds like a great use for KeyPaths! Those KeyPaths are passed in as the arguments to the struct (thanks to the automatically generated initializer), and are used to grab the values out of the passed in model object in the <code>configure</code> method. Here are some calls to the struct to configure a Song and Playlist cell:</p><pre><code><span class="keyword">struct</span> Song {
  <span class="keyword">var</span> name: <span class="type">String</span>
  <span class="keyword">var</span> artistName: <span class="type">String</span>
  <span class="keyword">var</span> albumArtwork: <span class="type">UIImage</span>?
}
<span class="keyword">struct</span> Playlist {
  <span class="keyword">var</span> title: <span class="type">String</span>
  <span class="keyword">var</span> authorName: <span class="type">String</span>
  <span class="keyword">var</span> artwork: <span class="type">UIImage</span>?
}

<span class="keyword">let</span> songCellConfigurator = <span class="type">CellConfigurator</span>&lt;<span class="type">Song</span>&gt;(
    titleKeyPath: \.<span class="property">name</span>,
    subtitleKeyPath: \.<span class="property">artistName</span>,
    imageKeyPath: \.<span class="property">albumArtwork</span>
)

<span class="keyword">let</span> playlistCellConfigurator = <span class="type">CellConfigurator</span>&lt;<span class="type">Playlist</span>&gt;(
    titleKeyPath: \.<span class="property">title</span>,
    subtitleKeyPath: \.<span class="property">authorName</span>,
    imageKeyPath: \.<span class="property">artwork</span>
)
</code></pre><p>The generic type is different in each case - <code>Song</code> and <code>Playlist</code> - and they each have their own sets of KeyPaths that are passed in order to get the correct values to populate the cell.</p><p>There are some other areas - especially when dealing with SwiftUI and while working with collections - where we will run into KeyPaths again. So keep this module handy as a reference!</p><p>Speaking of collections - we'll take a look at those next.</p><p style="float: left">Previous:  <A HREF="../../Week01/10-TheGuardStatement/index.html">The Guard Statement</A></p><p style="float: right">Next:  <A HREF="../../Week01/12-FunctionalProgramming/index.html">Functional Programming</A></p><BR/><BR/></div><leftside><u><p>Week 1</p></u><div class="weekSection"><ul><li><div class="comment-container"><div class="tocItem"><a id="Week 01 Overview" href="../../Week01/00-Week01Overview/index.html">Week 01 Overview</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Introduction to Swift" href="../../Week01/01-IntroductionToSwift/index.html">Introduction to Swift</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Optionals" href="../../Week01/02-Optionals/index.html">Optionals</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Functions" href="../../Week01/03-Functions/index.html">Functions</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Closures" href="../../Week01/04-Closures/index.html">Closures</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Generics" href="../../Week01/05-Generics/index.html">Generics</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Structs and Classes" href="../../Week01/06-StructsAndClasses/index.html">Structs and Classes</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Protocols and Extensions" href="../../Week01/07-ProtocolsAndExtensions/index.html">Protocols and Extensions</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Handling Errors" href="../../Week01/08-HandlingErrors/index.html">Handling Errors</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Properties" href="../../Week01/09-Properties/index.html">Properties</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="The Guard Statement" href="../../Week01/10-TheGuardStatement/index.html">The Guard Statement</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="KeyPaths" href="../../Week01/11-KeyPaths/index.html">KeyPaths</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Functional Programming" href="../../Week01/12-FunctionalProgramming/index.html">Functional Programming</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Whats New In Swift" href="../../Week01/13-WhatsNewInSwift/index.html">Whats New In Swift</a></div></div></li></ul></div></leftside><footer><p>Generated with ❤️ using <a href="https://github.com/johnsundell/publish">Publish</a></p><p>© 2023-2024 Josh Steele (rsteele3@jhu.edu) <a href="mailto:"(rsteele3@jhu.edu)""></a></p><p>Last updated January 25, 2025 at 5:22 PM</p><p><a href="https://mastodon.social/@hococoder" target="_blank">My Mastodon</a> | <a href="https://github.com/hococoder" target="_blank">My GitHub</a> | <a href="https://ep.jhu.edu" target="_blank">Whiting School EPP</a> | <a href="https://canvas.jhu.edu" target="_blank">JHU Canvas</a></p></footer></div></body></html>
<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Mobile Application Development for the iOS Platform"/><link rel="canonical" href="https://hococoder.com/posts/Week06/04-MakingCustomControlsWithSwiftUI"/><meta name="twitter:url" content="https://hococoder.com/posts/Week06/04-MakingCustomControlsWithSwiftUI"/><meta name="og:url" content="https://hococoder.com/posts/Week06/04-MakingCustomControlsWithSwiftUI"/><title>Week 6 - Making Custom Controls with SwiftUI | Mobile Application Development for the iOS Platform</title><meta name="twitter:title" content="Week 6 - Making Custom Controls with SwiftUI | Mobile Application Development for the iOS Platform"/><meta name="og:title" content="Week 6 - Making Custom Controls with SwiftUI | Mobile Application Development for the iOS Platform"/><meta name="description" content="A description of my first post."/><meta name="twitter:description" content="A description of my first post."/><meta name="og:description" content="A description of my first post."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="../../../styles.css" type="text/css"/><script src="../../../../jquery-3.7.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Mobile Application Development for the iOS Platform"/></head><body><div class="layout"><div class="header"><div class="headerLayout"><div class="title">Mobile Application Development for the iOS Platform</div><div class="subtitle">Engineering Program for Professionals - 605.687 - 2024-2025 Academic Year</div><div class="weeklayout"><a class="grow1" href="/epp_605_687_fall_2024/posts/Intro/About Me">About Me</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Intro/Example App">Example App</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week00/00-Week00Overview">Week 0</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week01/00-Week01Overview">Week 1</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week02/00-Week02Overview">Week 2</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week03/00-Week03Overview">Week 3</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week04/00-Week04Overview">Week 4</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week05/00-Week05Overview">Week 5</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week06/00-Week06Overview">Week 6</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week07/00-Week07Overview">Week 7</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week08/00-Week08Overview">Week 8</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week09/00-Week09Overview">Week 9</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week10/00-Week10Overview">Week 10</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week11/00-Week11Overview">Week 11</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week12/00-Week12Overview">Week 12</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week13/00-Week13Overview">Week 13</a></div></div></div><div class="wrapper"><h1>Week 6 - Making Custom Controls with SwiftUI</h1><p style="float: left">Previous:  <A HREF="../../Week06/03-VisionFaceDetectionExample/index.html">Vision Face Detection Example</A></p><p style="float: right">Next:  <A HREF="../../Week06/05-MakingCustomControlsWithCoreGraphics/index.html">Making Custom Controls With CoreGraphics</A></p><BR/><BR/><div id="floater">
<h3><u>Page Contents</u></h3>
<ul><li><a href="#overview">Overview</a></li><li><a href="#swiftui">SwiftUI</a></li><li><a href="#swiftuiDrawingExample">SwiftUI Drawing Example</a></li></ul></div><a name="overview"></a>
<h2>Overview</h2><p>iOS provides a wide variety of controls for your user to interact with - but what happens when your designer wants you to make this new, flashy interaction for the user? Custom controls are the answer! In addition to the built in views iOS provides, you can make your own! There are 2 different ways:</p><a name="swiftui"></a>
<h2>SwiftUI</h2><p>SwiftUI has a few different mechanisms for making shapes. There are built in shapes, like <code>Rectangle</code> that we used in the <code>CoreImage</code> face detection example. <code>Rectangle</code>s, <code>Circle</code>s, <code>RoundedRectangle</code>s, <code>Ellipse</code>s and <code>Capsule</code>s are all available.</p><pre><code><span class="type">Rectangle</span>()
  .<span class="call">fill</span>(<span class="type">Color</span>.<span class="property">red</span>)
  .<span class="call">frame</span>(width: <span class="number">200</span>, height: <span class="number">200</span>)


<span class="type">Capsule</span>()
  .<span class="call">fill</span>(<span class="type">Color</span>.<span class="property">green</span>)
  .<span class="call">frame</span>(width: <span class="number">200</span>, height: <span class="number">200</span>)
</code></pre><p>You can also build a Path similar to what you do with <code>CoreGraphics</code>, using the <code>path(in rect:)</code> method to define what the shape looks like. In here you can also use paths from the built in shapes.</p><pre><code><span class="keyword">func</span> path(in rect: <span class="type">CGRect</span>) -&gt; <span class="type">Path</span> {
  
  <span class="keyword">var</span> path = <span class="type">Path</span>()
  path.<span class="call">addArc</span>(center: <span class="type">CGPoint</span>(x: <span class="number">100</span>, y: <span class="number">100</span>), radius: <span class="type">CGFloat</span>(<span class="number">50</span>), startAngle:<span class="type">Angle</span>(degrees: <span class="number">0</span>), endAngle: <span class="type">Angle</span>(degrees: <span class="number">180</span>), clockwise: <span class="keyword">true</span>)
  <span class="keyword">return</span> path
}
</code></pre><p>The above draws a hemisphere in the view, with a radius of 50, centered at (100, 100).</p><a name="swiftuiDrawingExample"></a>
<h2>SwiftUI Drawing Example</h2><center><iframe src="https://jh.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=a8b601a6-7184-441e-ba28-b1ba014ede4b&autoplay=false&offerviewer=true&showtitle=true&showbrand=true&captions=false&interactivity=all" height="720" width="1280" style="border: 1px solid #464646;" allowfullscreen allow="autoplay" aria-label="Panopto Embedded Video Player" aria-description="Week0-04-THIRDPARTYTOOLS-Lecture" ></iframe></center><p>Let's look at a few different examples of drawing in SwiftUI. Start by making a view to show our various examples:</p><pre><code><span class="keyword">struct</span> CustomControlsExampleView: <span class="type">View</span> {
  
  <span class="keyword">@State var</span> frameSize: <span class="type">CGRect</span> = <span class="type">CGRect</span>()
  <span class="keyword">@State var</span> percentage: <span class="type">CGFloat</span> = <span class="number">0.0</span>
  
  <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> {
    <span class="type">VStack</span> {
    
      <span class="type">ProgressIndicator1</span>(percentage: <span class="property">$percentage</span>)
        .<span class="call">frame</span>(width: <span class="number">200</span>, height: <span class="number">20</span>)
      
      <span class="type">ProgressIndicator2</span>(percentage: <span class="property">$percentage</span>)
        .<span class="call">frame</span>(width: <span class="number">200</span>, height: <span class="number">20</span>)
      
      <span class="type">ProgressIndicator3</span>()
      .<span class="call">frame</span>(width: <span class="number">250</span>, height: <span class="number">250</span>)
      
      <span class="type">Button</span>(<span class="string">"Advance Progress"</span>) {
        <span class="call">advanceProgress</span>()
      }
      
      <span class="type">CustomBubbleViewRep</span>(frameSize: <span class="property">$frameSize</span>, percentage: <span class="property">$bubblePercentage</span>).<span class="call">background</span>(<span class="type">GeometryGetter</span>(rect: <span class="property">$frameSize</span>))
      
    }
  }
  
  <span class="keyword">func</span> advanceProgress() {
    <span class="keyword">if</span> (percentage &lt;= <span class="number">1.0</span>) {
      percentage += <span class="number">0.05</span>
    }
  }
}

</code></pre><p>First, you can use the built in Shapes.</p><pre><code><span class="keyword">struct</span> ProgressIndicator1: <span class="type">View</span> {
  
  <span class="keyword">@Binding var</span> percentage: <span class="type">CGFloat</span>
  
  <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> {
    
    <span class="type">ZStack</span>(alignment: .<span class="dotAccess">leading</span>) {
      
      <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">20</span>)
      
      <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">20</span>)
        .<span class="call">foregroundColor</span>(<span class="type">Color</span>.<span class="property">blue</span>)
        .<span class="call">frame</span>(width: <span class="number">200</span>*percentage, height: <span class="number">20</span>)
      
    }
  }
}
</code></pre><p>I've placed these in a ZStack so they appear on top of one another, simulating a progress indicator.</p><p>You can also use the built in shapes to create Paths that you draw in a CGRect defined by the view:</p><pre><code><span class="keyword">struct</span> ProgressIndicator2: <span class="type">Shape</span> {
  
  <span class="keyword">@Binding var</span> percentage: <span class="type">CGFloat</span>
  
  <span class="keyword">func</span> path(in rect: <span class="type">CGRect</span>) -&gt; <span class="type">Path</span> {
    
    <span class="keyword">var</span> path = <span class="type">Path</span>()
    
    <span class="keyword">let</span> path1 = <span class="type">Capsule</span>()
      .<span class="call">stroke</span>(lineWidth: <span class="number">5</span>)
      .<span class="call">path</span>(in: rect)
    
    <span class="keyword">let</span> path2 = <span class="type">Capsule</span>()
      .<span class="call">size</span>(width: rect.<span class="property">width</span>*percentage, height: rect.<span class="property">height</span>)
      .<span class="call">path</span>(in: rect)
  
    path.<span class="call">addPath</span>(path1)
    path.<span class="call">addPath</span>(path2)
  
    <span class="keyword">return</span> path
  }
}
</code></pre><p>Here, the <code>path</code> function is used on the <code>Capsule</code> type to take the path that results from creating that capsule with the given line width and drawing it in the <code>CGRect</code> passed into the function.</p><p>You can run this in the preview canvas or the simulator, and tap the "Advance progress" button to see these in action.</p><p>Finally, you can simply use methods on Path to draw things like arcs.</p><pre><code><span class="keyword">struct</span> ProgressIndicator3: <span class="type">Shape</span> {

  <span class="keyword">func</span> path(in rect: <span class="type">CGRect</span>) -&gt; <span class="type">Path</span> {
    
    <span class="keyword">var</span> path = <span class="type">Path</span>()
    path.<span class="call">addArc</span>(center: <span class="type">CGPoint</span>(x: <span class="number">100</span>, y: <span class="number">100</span>), radius: <span class="type">CGFloat</span>(<span class="number">50</span>), startAngle:<span class="type">Angle</span>(degrees: <span class="number">0</span>), endAngle: <span class="type">Angle</span>(degrees: <span class="type">Double</span>((<span class="number">180</span>*percentage))), clockwise: <span class="keyword">false</span>)
    <span class="keyword">return</span> path
  }
}
</code></pre><p>The above draws a hemisphere in the view, with a radius of 50, centered at (100, 100).</p><p style="float: left">Previous:  <A HREF="../../Week06/03-VisionFaceDetectionExample/index.html">Vision Face Detection Example</A></p><p style="float: right">Next:  <A HREF="../../Week06/05-MakingCustomControlsWithCoreGraphics/index.html">Making Custom Controls With CoreGraphics</A></p><BR/><BR/></div><leftside><u><p>Week 6</p></u><div class="weekSection"><ul><li><div class="comment-container"><div class="tocItem"><a id="Week 06 Overview" href="../../Week06/00-Week06Overview/index.html">Week 06 Overview</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Introduction to CoreImage" href="../../Week06/01-IntroductionToCoreImage/index.html">Introduction to CoreImage</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="CoreImage Filters Example" href="../../Week06/02-CoreImageFiltersExample/index.html">CoreImage Filters Example</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Vision Face Detection Example" href="../../Week06/03-VisionFaceDetectionExample/index.html">Vision Face Detection Example</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Making Custom Controls With SwiftUI" href="../../Week06/04-MakingCustomControlsWithSwiftUI/index.html">Making Custom Controls With SwiftUI</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Making Custom Controls With CoreGraphics" href="../../Week06/05-MakingCustomControlsWithCoreGraphics/index.html">Making Custom Controls With CoreGraphics</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Introduction to SwiftUI Charts" href="../../Week06/06-IntroductionToSwiftUICharts/index.html">Introduction to SwiftUI Charts</a></div></div></li></ul></div></leftside><footer><p>Generated with ❤️ using <a href="https://github.com/johnsundell/publish">Publish</a></p><p>© 2023-2024 Josh Steele (rsteele3@jhu.edu) <a href="mailto:"(rsteele3@jhu.edu)""></a></p><p>Last updated January 18, 2025 at 2:12 PM</p><p><a href="https://mastodon.social/@hococoder" target="_blank">My Mastodon</a> | <a href="https://github.com/hococoder" target="_blank">My GitHub</a> | <a href="https://ep.jhu.edu" target="_blank">Whiting School EPP</a> | <a href="https://canvas.jhu.edu" target="_blank">JHU Canvas</a></p></footer></div></body></html>
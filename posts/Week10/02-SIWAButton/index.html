<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Mobile Application Development for the iOS Platform"/><link rel="canonical" href="https://hococoder.com/posts/Week10/02-SIWAButton"/><meta name="twitter:url" content="https://hococoder.com/posts/Week10/02-SIWAButton"/><meta name="og:url" content="https://hococoder.com/posts/Week10/02-SIWAButton"/><title>Week 10 - Sign in With Apple Button | Mobile Application Development for the iOS Platform</title><meta name="twitter:title" content="Week 10 - Sign in With Apple Button | Mobile Application Development for the iOS Platform"/><meta name="og:title" content="Week 10 - Sign in With Apple Button | Mobile Application Development for the iOS Platform"/><meta name="description" content="A description of my first post."/><meta name="twitter:description" content="A description of my first post."/><meta name="og:description" content="A description of my first post."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><link rel="stylesheet" href="../../../styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Mobile Application Development for the iOS Platform"/></head><body><header><div class="wrapper"><a class="site-name" href="/">Mobile Application Development for the iOS Platform</a><nav><ul><li><a href="/epp_605_687_spring_2023/posts/Intro/About Me">AboutMe</a></li><li><a href="/epp_605_687_spring_2023/posts/Intro/Example App">ExampleApp</a></li><li><a href="/epp_605_687_spring_2023/posts/Week00/00-Week00Overview">Week0</a></li><li><a href="/epp_605_687_spring_2023/posts/Week01/00-Week01Overview">Week1</a></li><li><a href="/epp_605_687_spring_2023/posts/Week02/00-Week02Overview">Week2</a></li><li><a href="/epp_605_687_spring_2023/posts/Week03/00-Week03Overview">Week3</a></li><li><a href="/epp_605_687_spring_2023/posts/Week04/00-Week04Overview">Week4</a></li><li><a href="/epp_605_687_spring_2023/posts/Week05/00-Week05Overview">Week5</a></li><li><a href="/epp_605_687_spring_2023/posts/Week06/00-Week06Overview">Week6</a></li><li><a href="/epp_605_687_spring_2023/posts/Week07/00-Week07Overview">Week7</a></li><li><a href="/epp_605_687_spring_2023/posts/Week08/00-Week08Overview">Week8</a></li><li><a href="/epp_605_687_spring_2023/posts/Week09/00-Week09Overview">Week9</a></li><li><a href="/epp_605_687_spring_2023/posts/Week10/00-Week10Overview">Week10</a></li><li><a href="/epp_605_687_spring_2023/posts/Week11/00-Week11Overview">Week11</a></li><li><a href="/epp_605_687_spring_2023/posts/Week12/00-Week12Overview">Week12</a></li><li><a href="/epp_605_687_spring_2023/posts/Week13/00-Week13Overview">Week13</a></li><li><a href="/epp_605_687_spring_2023/posts/Week14/00-Week14Overview">Week14</a></li></ul></nav></div></header><div class="wrapper"><h1>Week 10 - Sign in With Apple Button</h1><p style="float: left">Previous:  <A HREF="../01-IntroductionToSignInWithApple/index.html">Introduction to Sign in with Apple</A></p><p style="float: right">Next:  <A HREF="../03-SIWASignIn/index.html" class="nextModule">Sign in With Apple Sign In</A></p><BR/><BR/><h2>Adding Sign in Button with SwiftUI</h2><center> <iframe width="1280" height="720" src="https://cdnapisec.kaltura.com/html5/html5lib/v2.81.2/mwEmbedFrame.php/p/1458241/uiconf_id/14487351/entry_id/1_wz1es5sh?wid=_1458241&iframeembed=true&playerId=kaltura_player&entry_id=1_wz1es5sh&flashvars[localizationCode]=en&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[mediaProxy.preferedFlavorBR]=2500&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;flashvars[EmbedPlayer.NotPlayableDownloadLink]=true;&wid=1_abkvs1gz"allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" sandbox="allow-forms allow-same-origin allow-scripts allow-top-navigation allow-pointer-lock allow-popups allow-modals allow-orientation-lock allow-popups-to-escape-sandbox allow-presentation allow-top-navigation-by-user-activation" frameborder="0" title="Kaltura Player">
  </iframe>
</center><p>Sign in with Apple comes with a UI element built in for the login button, but it is written using UIKit (NOTE: iOS 14 has a native SignInWithAppleButton type). In order to present the button using a SwiftUI view, we'll need to take advantage of the UIViewRepresentable protocol, and wrap the existing button. To start, make a new Swift file - not a SwiftUI file! - called SignInWithApple.swift</p><p>At the top of the file, import the SwiftUI and AuthenticationServices frameworks</p><pre><code><span class="keyword">import</span> SwiftUI
<span class="keyword">import</span> AuthenticationServices
</code></pre><p>Then make the SignInWithApple struct, which adopts the UIViewRepresentable protocol, and implement the required methods. As usual, implement makeUIView, which returns the UIKit view to be wrapped, and updateUIView to update the UIKit view. Since that view never changes once it is presented, we'll leave that method blank. Be sure to update the return type for makeUIView and the first argument of updateUIView to be ASAuthorizationAppleIDButton - this is the Associated Type we need to use when wrapping the ASAuthorizationAppleIDButton.</p><pre><code><span class="comment">// 1</span>
<span class="keyword">struct</span> SignInWithApple: <span class="type">UIViewRepresentable</span> {
  <span class="comment">// 2</span>
  <span class="keyword">func</span> makeUIView(context: <span class="type">Context</span>) -&gt; <span class="type">ASAuthorizationAppleIDButton</span> {
    <span class="comment">// 3</span>
    <span class="keyword">return</span> <span class="type">ASAuthorizationAppleIDButton</span>()
  }
  
  <span class="comment">// 4</span>
  <span class="keyword">func</span> updateUIView(<span class="keyword">_</span> uiView: <span class="type">ASAuthorizationAppleIDButton</span>, context: <span class="type">Context</span>) {
  }
}

</code></pre><p>Now with our ASAuthorizationAppleIDButton wrapped so it can be returned as a SwiftUI view, we can add it to our SignInWithApple view under this week's sample code. Go there, and in the body, add in the SignInWithApple view, and use a frame modifier to size the button to a width of 280, and a height of 60.</p><pre><code><span class="type">SignInWithApple</span>()
  .<span class="call">frame</span>(width: <span class="number">280</span>, height: <span class="number">60</span>)

</code></pre><p>We can look at that in the preview canvas - a nice Apple branded sign in button!</p><p>Now with a button in place, we need to handle the tap event for the button, which is where we'll really start to dive into the Sign in with Apple framework.</p><p style="float: left">Previous:  <A HREF="../01-IntroductionToSignInWithApple/index.html">Introduction to Sign in with Apple</A></p><p style="float: right">Next:  <A HREF="../03-SIWASignIn/index.html" class="nextModule">Sign in With Apple Sign In</A></p></div><footer><p>Generated with ❤️ using <a href="https://github.com/johnsundell/publish">Publish</a></p><p>© 2022-2023 Josh Steele (rsteele3@jhu.edu) <a href="mailto:"(rsteele3@jhu.edu)""></a></p><p>Last updated January 16, 2023 at 2:38 PM</p><p><a href="https://twitter.com/hococoder" target="_blank">My Twitter</a> | <a href="https://github.com/hococoder" target="_blank">My GitHub</a> | <a href="https://ep.jhu.edu" target="_blank">Whiting School EPP</a> | <a href="https://blackboard.jhu.edu" target="_blank">JHU Blackboard</a></p></footer></body></html>
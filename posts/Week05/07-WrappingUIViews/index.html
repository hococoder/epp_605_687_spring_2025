<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Mobile Application Development for the iOS Platform"/><link rel="canonical" href="https://hococoder.com/posts/Week05/07-WrappingUIViews"/><meta name="twitter:url" content="https://hococoder.com/posts/Week05/07-WrappingUIViews"/><meta name="og:url" content="https://hococoder.com/posts/Week05/07-WrappingUIViews"/><title>Week 5 - Wrapping UIViews | Mobile Application Development for the iOS Platform</title><meta name="twitter:title" content="Week 5 - Wrapping UIViews | Mobile Application Development for the iOS Platform"/><meta name="og:title" content="Week 5 - Wrapping UIViews | Mobile Application Development for the iOS Platform"/><meta name="description" content="A description of my first post."/><meta name="twitter:description" content="A description of my first post."/><meta name="og:description" content="A description of my first post."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><link rel="stylesheet" href="../../../styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Mobile Application Development for the iOS Platform"/></head><body><header><div class="wrapper"><a class="site-name" href="/">Mobile Application Development for the iOS Platform</a><nav><ul><li><a href="/test_ep_site/posts/Intro/About Me">AboutMe</a></li><li><a href="/test_ep_site/posts/Intro/Example App">ExampleApp</a></li><li><a href="/test_ep_site/posts/Week00/00-Week00Overview">Week0</a></li><li><a href="/test_ep_site/posts/Week01/00-Week01Overview">Week1</a></li><li><a href="/test_ep_site/posts/Week02/00-Week02Overview">Week2</a></li><li><a href="/test_ep_site/posts/Week03/00-Week03Overview">Week3</a></li><li><a href="/test_ep_site/posts/Week04/00-Week04Overview">Week4</a></li><li><a href="/test_ep_site/posts/Week05/00-Week05Overview">Week5</a></li><li><a href="/test_ep_site/posts/Week06/00-Week06Overview">Week6</a></li><li><a href="/test_ep_site/posts/Week07/00-Week07Overview">Week7</a></li><li><a href="/test_ep_site/posts/Week08/00-Week08Overview">Week8</a></li><li><a href="/test_ep_site/posts/Week09/00-Week09Overview">Week9</a></li><li><a href="/test_ep_site/posts/Week10/00-Week10Overview">Week10</a></li><li><a href="/test_ep_site/posts/Week11/00-Week11Overview">Week11</a></li><li><a href="/test_ep_site/posts/Week12/00-Week12Overview">Week12</a></li><li><a href="/test_ep_site/posts/Week13/00-Week13Overview">Week13</a></li><li><a href="/test_ep_site/posts/Week14/00-Week14Overview">Week14</a></li></ul></nav></div></header><div class="wrapper"><h1>Week 5 - Wrapping UIViews</h1><p style="float: left">Previous:  <A HREF="../06-CoreLocationAndMapExample/index.html">CoreLocation and Map Example</A></p><p style="float: right">Next:  <A HREF="../08-IntroductionToMapKit/index.html" class="nextModule">Introduction to MapKit</A></p><BR/><BR/><p>As mentioned previously, not every view from UIKit (the older way of rendering UI on iOS) has been transitioned over to SwiftUI yet. To help with that, Apple has provided two protocols - <code>UIViewRepresentable</code> which helps transition <code>UIView</code>s to SwiftUI, and <code>UIViewControllerRepresentable</code>, which helps transition <code>UIViewController</code>s to SwiftUI. Let's look at an example of using <code>UIViewRepresentable</code> that will allow us to display the UIKit <code>MKMapView</code> as a SwiftUI view so we can use it in our SwiftUI-based app. Apple has a great example of doing something like this in their SwiftUI Tutorials, so let's take a look:</p><pre><code><span class="comment">//From an Apple example - https://developer.apple.com/tutorials/swiftui/creating-and-combining-views</span>
<span class="keyword">struct</span> MapView: <span class="type">UIViewRepresentable</span> {

    <span class="keyword">func</span> makeUIView(context: <span class="type">Context</span>) -&gt; <span class="type">MKMapView</span> {
        <span class="type">MKMapView</span>(frame: .<span class="dotAccess">zero</span>)
    }

    <span class="keyword">func</span> updateUIView(<span class="keyword">_</span> uiView: <span class="type">MKMapView</span>, context: <span class="type">Context</span>) {
        <span class="keyword">let</span> coordinate = <span class="type">CLLocationCoordinate2D</span>(
            latitude: <span class="number">37.334722</span>, longitude: -<span class="number">122.008889</span>)
        <span class="keyword">let</span> span = <span class="type">MKCoordinateSpan</span>(latitudeDelta: <span class="number">2.0</span>, longitudeDelta: <span class="number">2.0</span>)
        <span class="keyword">let</span> region = <span class="type">MKCoordinateRegion</span>(center: coordinate, span: span)
        uiView.<span class="call">setRegion</span>(region, animated: <span class="keyword">true</span>)
    }
}
</code></pre><p>Let's break this down:</p><ul><li>First, <code>MapView</code>, instead of adopting <code>View</code>, adopts <code>UIViewRepresentable</code>, which actually extends <code>View</code>. The protocol adds two required functions - <code>makeUIView</code>, which is used to construct the SwiftUI view from the <code>UIView</code>, and <code>updateUIView</code>, which is used to update the view when the system needs to update it.</li></ul><ul><li>In the <code>makeUIView</code> method, we're simply returning a <code>MKMapView</code> (this is UIKit's Map widget) that will take up the whole screen (remember that for single line methods, the Swift compiler doesn't need a <code>return</code> keyword).</li></ul><ul><li>In the <code>updateUIView</code> method, we're setting a set of coordinates, and setting the map's <code>region</code> to display that <code>coordinate</code> with some pad defined by the <code>span</code>. This is very similar to the <code>Map</code> view in SwiftUI. Note that this will get called every time that the rendering system needs to refresh the view, so if the user has scrolled away from those coordinates, the update will bring them back to this location</li></ul><p>One optional thing that isn't here is the concept of a <code>Coordinator</code> (which is an overloaded term in the UI world, beware!). If this is defined, this coordinator is in charge of handling traffic back and forth between the <code>UIView</code> and the SwiftUI view, many times involving a delegate protocol for the <code>UIView</code>. For example, as we'll see in the <code>MapKit</code> example, the <code>Coordinator</code> adopts the <code>MKMapViewDelegate</code> and is in charge of handling <code>MKMapView</code> specific functionality.<br><br>If we have a coordinator to define, we'll also need to add the following function in the struct that adopts <code>UIViewRepresentable</code> (like <code>MapView</code> above). This method is automatically called by SwiftUI, so there is no need to call it directly.</p><pre><code><span class="keyword">func</span> makeCoordinator() -&gt; <span class="type">Coordinator</span> {
    <span class="type">Coordinator</span>()
}
</code></pre><p>Even thought it adopts <code>UIViewRepresentable</code> this <code>MapView</code> can be used like any other SwiftUI view we would use in our app.</p><p>We'll see how this is used is when we talk about UIKit's mapping capabilities, which we'll do in the next few modules.</p><p style="float: left">Previous:  <A HREF="../06-CoreLocationAndMapExample/index.html">CoreLocation and Map Example</A></p><p style="float: right">Next:  <A HREF="../08-IntroductionToMapKit/index.html" class="nextModule">Introduction to MapKit</A></p></div><footer><p>Generated with ❤️ using <a href="https://github.com/johnsundell/publish">Publish</a></p><p>© 2022-2023 Josh Steele (rsteele3@jhu.edu) <a href="mailto:"(rsteele3@jhu.edu)""></a></p><p>Last updated August 27, 2022, 9:31 PM</p><p><a href="https://twitter.com/hococoder" target="_blank">My Twitter</a> | <a href="https://github.com/hococoder" target="_blank">My GitHub</a> | <a href="https://ep.jhu.edu" target="_blank">Whiting School EPP</a> | <a href="https://blackboard.jhu.edu" target="_blank">JHU Blackboard</a></p></footer></body></html>
<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Mobile Application Development for the iOS Platform"/><link rel="canonical" href="https://hococoder.com/posts/Week07/03-IntroductionToNotifications"/><meta name="twitter:url" content="https://hococoder.com/posts/Week07/03-IntroductionToNotifications"/><meta name="og:url" content="https://hococoder.com/posts/Week07/03-IntroductionToNotifications"/><title>Week 7 - Introduction to Notifications | Mobile Application Development for the iOS Platform</title><meta name="twitter:title" content="Week 7 - Introduction to Notifications | Mobile Application Development for the iOS Platform"/><meta name="og:title" content="Week 7 - Introduction to Notifications | Mobile Application Development for the iOS Platform"/><meta name="description" content="A description of my first post."/><meta name="twitter:description" content="A description of my first post."/><meta name="og:description" content="A description of my first post."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="../../../styles.css" type="text/css"/><script src="../../../../jquery-3.7.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Mobile Application Development for the iOS Platform"/></head><body><div class="layout"><div class="header"><div class="headerLayout"><div class="title">Mobile Application Development for the iOS Platform</div><div class="subtitle">Engineering Program for Professionals - 605.687 - 2024-2025 Academic Year</div><div class="weeklayout"><a class="grow1" href="/epp_605_687_spring_2025/posts/Intro/About Me">About Me</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Intro/Example App">Example App</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week00/00-Week00Overview">Week 0</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week01/00-Week01Overview">Week 1</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week02/00-Week02Overview">Week 2</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week03/00-Week03Overview">Week 3</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week04/00-Week04Overview">Week 4</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week05/00-Week05Overview">Week 5</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week06/00-Week06Overview">Week 6</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week07/00-Week07Overview">Week 7</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week08/00-Week08Overview">Week 8</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week09/00-Week09Overview">Week 9</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week10/00-Week10Overview">Week 10</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week11/00-Week11Overview">Week 11</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week12/00-Week12Overview">Week 12</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week13/00-Week13Overview">Week 13</a></div></div></div><div class="wrapper"><h1>Week 7 - Introduction to Notifications</h1><p style="float: left">Previous:  <A HREF="../../Week07/02-AnimationsExample/index.html">Animations Example</A></p><p style="float: right">Next:  <A HREF="../../Week07/04-LocalNotificationsExample/index.html">Local Notifications Example</A></p><BR/><BR/><div id="floater">
<h3><u>Page Contents</u></h3>
<ul><li><a href="#overview">Overview</a></li><li><a href="#controllingNotifications">Controlling Notifications</a></li><li><a href="#locationBasedNotifications">Location Based Notifications</a></li><li><a href="#implementingNotifications">Implementing Notifications</a></li><li><a href="#bestPractices">Best Practices</a></li></ul></div><a name="overview"></a>
<h2>Overview</h2><center><iframe id="myIframe" src="https://jh.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=a182d527-5d25-41f2-9f83-b1bb0102ddbc&autoplay=false&offerviewer=true&showtitle=true&showbrand=true&captions=false&interactivity=all"  style="border: 1px solid #464646;" allowfullscreen allow="autoplay" aria-label="Panopto Embedded Video Player" aria-description="Week0-04-THIRDPARTYTOOLS-Lecture" ></iframe></center><p>Notifications can alert your user to events while the app in active in the foreground, pushed into the background, and even while the phone is locked. They can:</p><ul><li>Be local, originating from your device. Notifications such as these can come from Timers going off, calendar events, or entering Geofenced regions.</li><li>Be remote, originating from a server on the web. These notifications come from the developer of the app, notifying you to changes in remote or incoming data to the app, such as breaking news events, events starting in a game, or new mail, just to name a few.</li><li>Starting with iOS 10, they could display more than just text or images by displaying detail views. These notifications can be expanded to show more information and up to 4 buttons. This could include something like a calendar view right in the notification, or the display of snooze and stop buttons for an alarm notifications.</li><li>Finally, notifications can badge your app (think the Mail app’s unread message count) and can also play unique sounds so you can tell the notifications apart.</li></ul><p>Notifications can be shown in Notification Center as well as on the lock screen. Your use can manage, view, or clean notifications with a swipe to the left, or open the associated app by swiping to the right. As a developer you get that swipe functionality for free. 3D touch, on devices that support it, is also built in, but you have to provide the actions. This usually involves displaying a detail view right in notification center to give a user more information.</p><img src="../../../week07/notificationCenter.png#centerResized" alt="Notification Center"/><a name="controllingNotifications"></a>
<h2>Controlling Notifications</h2><p>There are a few different styles of notifications and the user has control on how notifications are displayed, including whether to show notifications at all for a given app. They can choose whether to display them in notification center, whether they should make sounds, badge the app icon, show on the lock screen, and what type of alert style - an alert (which stays on screen until you dismiss it), a banner (which come on screen and auto dismisses) or no alert at all.</p><img src="https://support.apple.com/library/content/dam/edam/applecare/images/en_US/iOS/ios14-iphone11-pro-settings-notifications-messages.jpg#centerResized" alt="Managing Notifications"/><a name="locationBasedNotifications"></a>
<h2>Location Based Notifications</h2><p>Notifications can also send location based notifications. Geofencing, which we discussed in the module on CoreLocation, can be used to establish notification boundaries. A good example of this is the reminders app. You can setup a reminder like “Remind me to call the doctor’s office when I get home” with Siri, and it will setup a geofence around your home’s location (assuming you have your home saved in the address book) and when you enter that geofence it will trigger the reminder. Users can disable location triggers on an app by app basis, and remember - as we discussed with CoreLocation - you have to always ask for permission when using a user’s location.</p><img src="https://support.apple.com/library/content/dam/edam/applecare/images/en_US/iOS/ios14-iphone11-pro-settings-privacy-location-services.jpg#centerResized" alt="Notifications by Location"/><a name="implementingNotifications"></a>
<h2>Implementing Notifications</h2><p>In iOS, the <code>UserNotification</code> framework containst the API for notifications, and a <code>UserNotificationsUI</code> framework allows you to customize the interface used to display the notifications in your app. Let’s briefly discuss a few of the classes in the <code>UserNotification</code> framework.</p><h3><code>UNUserNotificationCenter</code></h3><p>The <code>UNUserNotificationCenter</code> handles notification activities for an app or an extension, and uses a <code>UNUserNotificationCenterDelegate</code> to perform app specific behaviors.<br><br>The <code>UNNotification</code> class contains a <code>UNNotification</code> request, which includes:</p><ul><li>The content of the notification, in the form of a <code>UNNotification</code> object,</li><li>And the trigger condition that caused it to be delivered, in the form of <code>UNNotificationTrigger</code> object.</li></ul><p>When the user interacts with a notification, that response is sent back to the app in the form of a <code>UNNotificationResponse</code> object. The <code>UNNotificationRequest</code> and response objects aren’t created directly - they are instead created by the <code>UNNotificationCenter</code> object.</p><p>The content of a notification can be attachments, or sounds to be played. You can create your own notification categories that allow you to define custom, app specific actions that can be performed in response to a notification. Notifications can now even take text input and pass it back to your app. This is how you can respond to a text message straight from a notification instead of having to launch the messages app. Triggers for notifications can also be specified such as a calendar date, a specific time, or a location.</p><h3>Local Notifications</h3><p>Local notifications originate on the device. They are usually in response to device derived data such as location, time or date, as well as a response to information downloaded in the background. For example, if a background process downloads new information from your server about new headlines in a subscribed feed, a local notification could be thrown to show the title of the first news item and it’s description. Local notifications look just like remote notifications, by the way, so the source is transparent to the user. We’ll demo how to setup a local notification in the examples video.</p><h3>Remote Notifications</h3><img src="https://docs-assets.developer.apple.com/published/1fe29f6177/4ebaf4d8-031d-4eb5-b975-07373dfa6eb6.png#centerResizedSlide" alt="Remote Notification Delivery"/><p>Remote notifications come from Apple Push Notification Servers, or APNS. To work with remote notifications, you need a server that can communicate with the APNS servers. The server you run contains the proper credentials to authenticate with APNS, which helps ensure the trust chain that permeates throughout iOS. A random server can’t be used to send notifications to your app, because a properly constructed authentication token must accompany each push, and that token is derived from your previously established credentials. When you want to send a remote notification, your server pushes a request to APNS for each device you want to send the notification to, and once authenticated, APNS pushes the notification out to the devices. We won’t show a demo of remote notification since they are a bit more involved. There are plenty of resources on the internet that walk you through setting up remote notifications.</p><img src="https://docs-assets.developer.apple.com/published/2ab4b80d89/b4f0b7ae-f9ed-4863-aced-ade4cdfb6a82.png#centerResizedSlide" alt="Remote Notification Trust Chain"/><p>Since remote notifications require a list of device tokens to send the notifications to, what happens when someone uninstalls your app or turns notifications off? Your devices communicates with APNS when events like this take place, so it knows which apps have changed their notification state. You can then query the APNS feedback service to see which device tokens have been disabled since the last time you checked, which allows you to cleanup your list of devices.</p><p class="suggestedReading">
For more information on APNS and Remote Notifications <A HREF="https://developer.apple.com/documentation/usernotifications/setting_up_a_remote_notification_server">this documentation on the Apple developer website</A> which has a great explanation of what is required to implement remote notifications.
</p><a name="bestPractices"></a>
<h2>Best Practices</h2><p>Before we wrap up, let’s talk about some best practices when dealing with notifications.</p><ul><li>TIme: your server and your users are bound to be in different time zones, so to make your notifications timely, roll them over the time zones as appropriate. Remember - while your app may be on all the time, people sleep! And not everyone turns on Do Not Disturb. So try not to send notifications at night. When you do send them, try not to send too many - that could turn people off from your app.</li><li>Try to personalize them - the user’s history, preferences, state (their current level in a game for example) and even their names can go into making a notification relevant to them and where they are in your app. You don’t have a lot of space to put your notification content, so be as brief (but detailed) as possible. You can always used a detail view to show more information if you need to before going into the app itself.</li><li>How you implement your notifications is key. Be careful when you ask for permissions. That dialog tends to popup right at first startup, and many people just decline those initial dialogs to get into the app. Once everything is nice and loaded, ask them for permission so they can properly process it.</li><li>For the actual remote notification process, there are plenty of affordable 3rd party services available, so if you need to offload that responsibility, there are choices.</li><li>Finally, a major annoyance since the early days of iOS - Clear your badges! When someone has responded to a notification, that badge should go away - don’t leave your user confused or frustrated.</li></ul><p>in the next few modules, we'll look at 2 examples on using notifications - local notifications and notification detail views. Remote notifications are out of scope for this course (see the suggested reading for more info).</p><p style="float: left">Previous:  <A HREF="../../Week07/02-AnimationsExample/index.html">Animations Example</A></p><p style="float: right">Next:  <A HREF="../../Week07/04-LocalNotificationsExample/index.html">Local Notifications Example</A></p><BR/><BR/></div><leftside><u><p>Week 7</p></u><div class="weekSection"><ul><li><div class="comment-container"><div class="tocItem"><a id="Week 07 Overview" href="../../Week07/00-Week07Overview/index.html">Week 07 Overview</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Introduction to Animations" href="../../Week07/01-IntroductionToAnimations/index.html">Introduction to Animations</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Animations Example" href="../../Week07/02-AnimationsExample/index.html">Animations Example</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Introduction to Notifications" href="../../Week07/03-IntroductionToNotifications/index.html">Introduction to Notifications</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Local Notifications Example" href="../../Week07/04-LocalNotificationsExample/index.html">Local Notifications Example</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Notification Detail Example" href="../../Week07/05-NotificationDetailExample/index.html">Notification Detail Example</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Biometrics" href="../../Week07/06-Biometrics/index.html">Biometrics</a></div></div></li></ul></div></leftside><footer><p>Generated with ❤️ using <a href="https://github.com/johnsundell/publish">Publish</a></p><p>© 2023-2024 Josh Steele (rsteele3@jhu.edu) <a href="mailto:"(rsteele3@jhu.edu)""></a></p><p>Last updated March 9, 2025 at 6:45 PM</p><p><a href="https://mastodon.social/@hococoder" target="_blank">My Mastodon</a> | <a href="https://github.com/hococoder" target="_blank">My GitHub</a> | <a href="https://ep.jhu.edu" target="_blank">Whiting School EPP</a> | <a href="https://canvas.jhu.edu" target="_blank">JHU Canvas</a></p></footer></div></body></html>
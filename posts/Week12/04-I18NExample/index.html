<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Mobile Application Development for the iOS Platform"/><link rel="canonical" href="https://hococoder.com/posts/Week12/04-I18NExample"/><meta name="twitter:url" content="https://hococoder.com/posts/Week12/04-I18NExample"/><meta name="og:url" content="https://hococoder.com/posts/Week12/04-I18NExample"/><title>Week 12 - Internationalization and Localization Example | Mobile Application Development for the iOS Platform</title><meta name="twitter:title" content="Week 12 - Internationalization and Localization Example | Mobile Application Development for the iOS Platform"/><meta name="og:title" content="Week 12 - Internationalization and Localization Example | Mobile Application Development for the iOS Platform"/><meta name="description" content="A description of my first post."/><meta name="twitter:description" content="A description of my first post."/><meta name="og:description" content="A description of my first post."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="../../../styles.css" type="text/css"/><script src="../../../../jquery-3.7.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Mobile Application Development for the iOS Platform"/></head><body><div class="layout"><div class="header"><div class="headerLayout"><div class="title">Mobile Application Development for the iOS Platform</div><div class="subtitle">Engineering Program for Professionals - 605.687 - 2024-2025 Academic Year</div><div class="weeklayout"><a class="grow1" href="/epp_605_687_spring_2025/posts/Intro/About Me">About Me</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Intro/Example App">Example App</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week00/00-Week00Overview">Week 0</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week01/00-Week01Overview">Week 1</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week02/00-Week02Overview">Week 2</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week03/00-Week03Overview">Week 3</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week04/00-Week04Overview">Week 4</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week05/00-Week05Overview">Week 5</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week06/00-Week06Overview">Week 6</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week07/00-Week07Overview">Week 7</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week08/00-Week08Overview">Week 8</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week09/00-Week09Overview">Week 9</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week10/00-Week10Overview">Week 10</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week11/00-Week11Overview">Week 11</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week12/00-Week12Overview">Week 12</a><a class="grow1" href="/epp_605_687_spring_2025/posts/Week13/00-Week13Overview">Week 13</a></div></div></div><div class="wrapper"><h1>Week 12 - Internationalization and Localization Example</h1><p style="float: left">Previous:  <A HREF="../../Week12/03-IntroductionToI18N/index.html">Introduction to I18N</A></p><p style="float: right">Next:  <A HREF="../../Week12/05-IntroductionToInstruments/index.html">Introduction to Instruments</A></p><BR/><BR/><center><iframe id="myIframe" src="https://jh.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=1142dd62-8da9-42af-859a-b1bb011b0cd1&autoplay=false&offerviewer=true&showtitle=true&showbrand=true&captions=false&interactivity=all"  style="border: 1px solid #464646;" allowfullscreen allow="autoplay" aria-label="Panopto Embedded Video Player" aria-description="Week0-04-THIRDPARTYTOOLS-Lecture" ></iframe></center><p>Let's take a look at how we can use some of these localization techniques in our code. Here's the start of a view:</p><pre><code><span class="keyword">struct</span> i18nView: <span class="type">View</span> {
  
  <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> {
    <span class="type">VStack</span> {
      <span class="type">Text</span>(<span class="string">"Welcome!"</span>)
      <span class="type">HStack</span> {
        <span class="type">Image</span>(<span class="string">"cook_hero"</span>).<span class="call">resizable</span>().<span class="call">aspectRatio</span>(contentMode: .<span class="dotAccess">fit</span>)
        <span class="type">Text</span>(<span class="string">"This is an example from week 12"</span>)
      }
    }
    
  }
}
</code></pre><p>I have some text and an image on screen. I want to localize those strings so I can present them in 2 other languages - French and Arabic (thank you Google Translate, and apologies if I messed anything up!).</p><p>Start by making a <code>Localizable.strings</code> file. When that is done, select the file, and in the File inspector, choose "Localize". This will, behind the scenes, add a folder for our base localization (en.proj, which isn't shown in Xcode but is on disk).</p><p>Next, go to the project file, and in the Project settings, add 2 localizations - French and Arabic, and only choose our Localizable.strings file in the popup (we don't need to worry about anything in ResearchKit or in the storyboards for the purposes of this example). Once you do this, you can now see a disclosure triangle next to the Localizable.strings file, and if you open it, the 3 language variants of the file will be shown. Add the following to the English, French, and Arabic files, respectively:</p><pre><code><span class="string">"Welcome!"</span> = <span class="string">"Welcome!"</span>;
<span class="string">"This is an example from week 12"</span> = <span class="string">"This is an example from week 12"</span>;
</code></pre><pre><code><span class="string">"Welcome!"</span> = <span class="string">"Bienvenue!"</span>;
<span class="string">"This is an example from week 12"</span> = <span class="string">"Ceci est un exemple de la semaine 12"</span>;
</code></pre><pre><code><span class="string">"Welcome!"</span> = <span class="string">"أهلا بك!"</span>;
<span class="string">"This is an example from week 12"</span> = <span class="string">"هذا مثال من الأسبوع 12"</span>;
</code></pre><p>Now, update the previews section for this view to the following:</p><pre><code><span class="keyword">struct</span> i18nView_Previews: <span class="type">PreviewProvider</span> {
  <span class="keyword">static var</span> previews: <span class="keyword">some</span> <span class="type">View</span> {
    <span class="type">Group</span> {
      <span class="call">i18nView</span>()
        .<span class="call">previewLayout</span>(.<span class="dotAccess">sizeThatFits</span>)
        .<span class="call">previewDisplayName</span>(<span class="string">"English Localization"</span>)
      <span class="call">i18nView</span>()
        .<span class="call">environment</span>(\.<span class="property">locale</span>, .<span class="keyword">init</span>(identifier: <span class="string">"fr"</span>))
        .<span class="call">previewLayout</span>(.<span class="dotAccess">sizeThatFits</span>)
        .<span class="call">previewDisplayName</span>(<span class="string">"French Localization"</span>)
      <span class="call">i18nView</span>()
        .<span class="call">environment</span>(\.<span class="property">locale</span>, .<span class="keyword">init</span>(identifier: <span class="string">"ar"</span>))
        .<span class="call">previewLayout</span>(.<span class="dotAccess">sizeThatFits</span>)
        .<span class="call">previewDisplayName</span>(<span class="string">"Arabic Localization"</span>)
    }
  }
}
</code></pre><p>This does a few things. It gets rid of the surrounding "chrome" of the simulator, only showing the view itself using the <code>previewLayout(.sizeThatFits)</code> modifier. It also gives each preview a name using the <code>previewDisplayName</code> modifier, and also updates the environment's locale for the French and Arabic views using the <code>.environment(\.locale, .init(identifier:))</code> modifier. Resume the preview canvas, and you can see each of the views appear in their respective languages. We didn't have to do anything other than provide translations and the tell the preview canvas to render a specific locale.</p><p>One other thing we can here is enforce right to left display for Arabic, which is an Internationalization step. That's another easy environment modifier:</p><pre><code><span class="call">i18nView</span>()
  .<span class="call">environment</span>(\.<span class="property">locale</span>, .<span class="keyword">init</span>(identifier: <span class="string">"ar"</span>))
  .<span class="call">previewLayout</span>(.<span class="dotAccess">sizeThatFits</span>)
  .<span class="call">previewDisplayName</span>(<span class="string">"Arabic Localization"</span>)
  .<span class="call">environment</span>(\.<span class="property">layoutDirection</span>, .<span class="dotAccess">rightToLeft</span>)
</code></pre><p>Now the image will appear on the right, with the text on the left.</p><p>One more thing we can look at is using <code>LocalizedStringKey</code> objects and string interpolation. Add the following to the Localizable.strings files:</p><p>English:</p><pre><code><span class="string">"goodbyeStatement"</span> = <span class="string">"Bye!"</span>;
<span class="string">"myNameIs %@"</span> = <span class="string">"My name is %@"</span>;
</code></pre><p>French:</p><pre><code><span class="string">"goodbyeStatement"</span> = <span class="string">"Au revoir!"</span>;
<span class="string">"myNameIs %@"</span> = <span class="string">"Je m'apelle %@"</span>;
</code></pre><p>Arablc:</p><pre><code><span class="string">"goodbyeStatement"</span> = <span class="string">"وداعا!"</span>;
<span class="string">"myNameIs %@"</span> = <span class="string">"اسمي هو %@"</span>;
</code></pre><p>And update the view to add a goodbye statement and a name statement.</p><pre><code><span class="keyword">struct</span> i18nView: <span class="type">View</span> {
  
  <span class="keyword">var</span> goodbye: <span class="type">LocalizedStringKey</span> = <span class="string">"goodbyeStatement"</span>
  <span class="keyword">let</span> name = <span class="string">"Josh"</span>
  
  <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> {
    <span class="type">VStack</span> {
      <span class="type">Text</span>(<span class="string">"Welcome!"</span>)
      <span class="type">HStack</span> {
        <span class="type">Image</span>(<span class="string">"cook_hero"</span>).<span class="call">resizable</span>().<span class="call">aspectRatio</span>(contentMode: .<span class="dotAccess">fit</span>)
        <span class="type">Text</span>(<span class="string">"This is an example from week 12"</span>)
      }
      <span class="type">Text</span>(<span class="string">"myNameIs</span> \(name)<span class="string">"</span>)
      <span class="type">Text</span>(goodbye)
    }
    
  }
}
</code></pre><p>The <code>LocalizedStringKey</code> is assigned to a key from the Localizable.strings file, and that substitution is handled at run time based on the value of that key in the respective language files.</p><p>The other text field demonstrates that the key in the Localizable.strings file can actually take in an argument using string interpolation. That can then be used as a lookup key into the Localizable.strings file, but the argument is passed in to the value side as well. So "myNameIs (name)" gets turned into "myNameIs Josh" and since "Josh" replaces the %@ on the key side, it also replaces it on the value side, resulting in "My name is Josh" as the interpolated value. NOTE: The string interpolation replacement only happens on the device, not on the simulator.</p><p>NOTE: When setting your scheme to use your language, be sure to set the "App Language" AND "App Region" values so both localization and internationalization are updated (the App Region can impact such things as date formats)</p><p style="float: left">Previous:  <A HREF="../../Week12/03-IntroductionToI18N/index.html">Introduction to I18N</A></p><p style="float: right">Next:  <A HREF="../../Week12/05-IntroductionToInstruments/index.html">Introduction to Instruments</A></p><BR/><BR/></div><leftside><u><p>Week 12</p></u><div class="weekSection"><ul><li><div class="comment-container"><div class="tocItem"><a id="Week 12 Overview" href="../../Week12/00-Week12Overview/index.html">Week 12 Overview</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Introduction to Accessibility" href="../../Week12/01-IntroductionToAccessibility/index.html">Introduction to Accessibility</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Accessibility Example" href="../../Week12/02-AccessibilityExample/index.html">Accessibility Example</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Introduction to I18N" href="../../Week12/03-IntroductionToI18N/index.html">Introduction to I18N</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="I18N Example" href="../../Week12/04-I18NExample/index.html">I18N Example</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Introduction to Instruments" href="../../Week12/05-IntroductionToInstruments/index.html">Introduction to Instruments</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Introduction to Unit Testing" href="../../Week12/06-IntroductionToUnitTesting/index.html">Introduction to Unit Testing</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Unit Testing Example" href="../../Week12/07-UnitTestingExample/index.html">Unit Testing Example</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Introduction to Logging" href="../../Week12/08-IntroductionToLogging/index.html">Introduction to Logging</a></div></div></li></ul></div></leftside><footer><p>Generated with ❤️ using <a href="https://github.com/johnsundell/publish">Publish</a></p><p>© 2023-2024 Josh Steele (rsteele3@jhu.edu) <a href="mailto:"(rsteele3@jhu.edu)""></a></p><p>Last updated January 26, 2025 at 12:00 PM</p><p><a href="https://mastodon.social/@hococoder" target="_blank">My Mastodon</a> | <a href="https://github.com/hococoder" target="_blank">My GitHub</a> | <a href="https://ep.jhu.edu" target="_blank">Whiting School EPP</a> | <a href="https://canvas.jhu.edu" target="_blank">JHU Canvas</a></p></footer></div></body></html>
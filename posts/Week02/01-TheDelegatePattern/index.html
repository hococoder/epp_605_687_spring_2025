<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Mobile Application Development for the iOS Platform"/><link rel="canonical" href="https://hococoder.com/posts/Week02/01-TheDelegatePattern"/><meta name="twitter:url" content="https://hococoder.com/posts/Week02/01-TheDelegatePattern"/><meta name="og:url" content="https://hococoder.com/posts/Week02/01-TheDelegatePattern"/><title>Week 2 - The Delegate Pattern | Mobile Application Development for the iOS Platform</title><meta name="twitter:title" content="Week 2 - The Delegate Pattern | Mobile Application Development for the iOS Platform"/><meta name="og:title" content="Week 2 - The Delegate Pattern | Mobile Application Development for the iOS Platform"/><meta name="description" content="An introduction to the Combine framework."/><meta name="twitter:description" content="An introduction to the Combine framework."/><meta name="og:description" content="An introduction to the Combine framework."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><link rel="stylesheet" href="../../../styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Mobile Application Development for the iOS Platform"/></head><body><header><div class="wrapper"><a class="site-name" href="/">Mobile Application Development for the iOS Platform</a><nav><ul><li><a href="/epp_605_687_fall_2023/posts/Intro/About Me">AboutMe</a></li><li><a href="/epp_605_687_fall_2023/posts/Intro/Example App">ExampleApp</a></li><li><a href="/epp_605_687_fall_2023/posts/Week00/00-Week00Overview">Week0</a></li><li><a href="/epp_605_687_fall_2023/posts/Week01/00-Week01Overview">Week1</a></li><li><a href="/epp_605_687_fall_2023/posts/Week02/00-Week02Overview">Week2</a></li><li><a href="/epp_605_687_fall_2023/posts/Week03/00-Week03Overview">Week3</a></li><li><a href="/epp_605_687_fall_2023/posts/Week04/00-Week04Overview">Week4</a></li><li><a href="/epp_605_687_fall_2023/posts/Week05/00-Week05Overview">Week5</a></li><li><a href="/epp_605_687_fall_2023/posts/Week06/00-Week06Overview">Week6</a></li><li><a href="/epp_605_687_fall_2023/posts/Week07/00-Week07Overview">Week7</a></li><li><a href="/epp_605_687_fall_2023/posts/Week08/00-Week08Overview">Week8</a></li><li><a href="/epp_605_687_fall_2023/posts/Week09/00-Week09Overview">Week9</a></li><li><a href="/epp_605_687_fall_2023/posts/Week10/00-Week10Overview">Week10</a></li><li><a href="/epp_605_687_fall_2023/posts/Week11/00-Week11Overview">Week11</a></li><li><a href="/epp_605_687_fall_2023/posts/Week12/00-Week12Overview">Week12</a></li><li><a href="/epp_605_687_fall_2023/posts/Week13/00-Week13Overview">Week13</a></li><li><a href="/epp_605_687_fall_2023/posts/Week14/00-Week14Overview">Week14</a></li></ul></nav></div></header><div class="wrapper"><h1>Week 2 - The Delegate Pattern</h1><p style="float: left">Previous:  <A HREF="../00-Week02Overview/index.html">Week 2 Overview</A></p><p style="float: right">Next:  <A HREF="../02-IntroductionToSwiftUI/index.html" class="nextModule">Introduction To SwiftUI</A></p><BR/><BR/><h2>Delegating Work</h2><p>Before we get into discussing user interfaces, it's worth it to take a quick break and go over the Delegate pattern. We learned back in the Protocols and Extensions module that, like Java, you can refer to types by the Protocols they adopt instead of the concrete class type, taking advantage of the rules of Polymorphism.</p><p>We can take advantage of this feature to invoke the Delegate pattern in our code. This is something that is used pretty often in user interface programming, especially in UIKit, the UI framework that preceded SwiftUI. It also is still around in several classes like CLLocationManager, the delegate for which, CLLocationManagerDelegate, returns information to your app about the device's location.</p><p>This touches upon something that is pretty pervasive throughout the iOS frameworks - the User Interface elements and other classes provided by Apple are <em>really</em> optimized and performant, but they know <em>nothing</em> about how to handle the data your app provides. This is where the Delegate pattern comes in - those built in classes from Apple rely on a delegate object, which conforms to a particular protocol, to provide the necessary information to it.</p><h2>Example</h2><p>Let's go over this concept with an example from UIKit. <code>UITableView</code> is the class that deals with rendering a table view on screen (something everyone has seen before if they have used Mail on iOS). However, since it is provided by Apple, <code>UITableView</code> isn’t very smart when it comes to the details of your app, even though it is optimized to display the data in a performant matter. Therefore, it delegates certain behaviors to your app to fill in the missing information. <code>UITableView</code> has 2 delegate objects:</p><pre><code><span class="keyword">var</span> dataSource: <span class="type">UITableViewDataSource</span>
<span class="keyword">var</span> delegate: <span class="type">UITableViewDelegate</span>
</code></pre><p>This states that the variable <code>dataSource</code> is of type <code>UITableViewDataSource</code>, and <code>delegate</code> is of type <code>UITableViewDelegate</code>. These two types are actually not classes, but Protocols. Any object that implements those Protocols must implement particular methods, so the class delegating the work can properly invoke it. For example, <code>UITableViewDataSource</code> has 2 methods in the protocol that must be implemented:</p><pre><code><span class="keyword">public func</span> tableView(<span class="keyword">_</span> tableView: <span class="type">UITableView</span>, numberOfRowsInSection section: <span class="type">Int</span>) -&gt; <span class="type">Int</span> 

<span class="keyword">public func</span> tableView(<span class="keyword">_</span> tableView: <span class="type">UITableView</span>, cellForRowAt indexPath: <span class="type">IndexPath</span>) -&gt; <span class="type">UITableViewCell</span>
</code></pre><p>This method must be implemented by the UITableView’s <code>dataSource</code> object so that, behind the scenes, the UITableView can call this method on the <code>dataSource</code> object in order to find the number of rows for a given section, as well as define the cell itself:</p><pre><code><span class="keyword">class</span> MyTableDataDelegate: <span class="type">NSObject</span>, <span class="type">UITableViewDataSource</span> {

  <span class="keyword">var</span> elements: [<span class="type">Int</span>] = []

  <span class="comment">//... code to populate the elements</span>

  <span class="keyword">public func</span> tableView(<span class="keyword">_</span> tableView: <span class="type">UITableView</span>, numberOfRowsInSection section: <span class="type">Int</span>) -&gt; <span class="type">Int</span> {
    <span class="keyword">return</span> elements.<span class="property">count</span>
  }

  <span class="keyword">func</span> tableView(<span class="keyword">_</span> tableView: <span class="type">UITableView</span>, cellForRowAt indexPath: <span class="type">IndexPath</span>) -&gt; <span class="type">UITableViewCell</span> {
    <span class="comment">//code to render the cell based on the value to show</span>
    <span class="keyword">return</span> <span class="type">UITableViewCell</span>()
  }
}

<span class="keyword">let</span> tableDataDelegate = <span class="type">MyTableDataDelegate</span>()
<span class="keyword">let</span> tableView = <span class="type">UITableView</span>()
tableView.<span class="property">dataSource</span> = tableDataDelegate
</code></pre><p><em>Any</em> class can be used as data source for the table as long as the class adopts the <code>UITableViewDataSource</code> protocol, because thanks to polymorphism it looks like that type of object once it adopts the protocol. This pattern <em>will</em> be seen in later modules, so keep it in mind!</p><p>Now with that in mind, let's start our discussion about the latest framework to work with user interfaces - SwiftUI.</p><p style="float: left">Previous:  <A HREF="../00-Week02Overview/index.html">Week 2 Overview</A></p><p style="float: right">Next:  <A HREF="../02-IntroductionToSwiftUI/index.html" class="nextModule">Introduction To SwiftUI</A></p></div><footer><p>Generated with ❤️ using <a href="https://github.com/johnsundell/publish">Publish</a></p><p>© 2023-2024 Josh Steele (rsteele3@jhu.edu) <a href="mailto:"(rsteele3@jhu.edu)""></a></p><p>Last updated September 4, 2023 at 7:42 PM</p><p><a href="https://mastodon.social/@hococoder" target="_blank">My Mastodon</a> | <a href="https://github.com/hococoder" target="_blank">My GitHub</a> | <a href="https://ep.jhu.edu" target="_blank">Whiting School EPP</a> | <a href="https://canvas.jhu.edu" target="_blank">JHU Canvas</a></p></footer></body></html>